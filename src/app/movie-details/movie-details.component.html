<div *ngIf="movie; else loading" class="container my-5">
  <div class="row align-items-center g-5">
    <div class="col-md-4 text-center">
      <img
        [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
        alt="{{ movie.title }}"
        class="img-fluid rounded shadow-lg"
        style="max-height: 600px; object-fit: cover"
      />
    </div>

    <div class="col-md-8">
      <h1 class="display-4 fw-bold mb-4">{{ movie.title }}</h1>
      <p class="text-muted fs-5 mb-3">
        <i class="bi bi-calendar-event"></i> {{ movie.release_date }}
        &nbsp; | &nbsp;
        <i class="bi bi-star-fill text-warning"></i>
        {{ movie.vote_average | number : "1.1-1" }}/10
      </p>

      <p class="lead mb-4">{{ movie.overview }}</p>

      <div class="d-flex flex-wrap gap-2">
        <span class="badge bg-primary fs-6"
          >Popularity: {{ movie.popularity | number : "1.0-0" }}</span
        >
        <span class="badge bg-success fs-6">Votes: {{ movie.vote_count }}</span>
        <span class="badge bg-info text-dark fs-6">{{
          movie.original_language.toUpperCase()
        }}</span>
      </div>

      <div class="mt-5">
        <a
          [routerLink]="['/main-page']"
          [queryParams]="{ query: lastSearch }"
          class="btn btn-outline-primary btn-lg"
        >
          <i class="bi bi-arrow-left"></i> Back to Movies
        </a>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="d-flex justify-content-center align-items-center vh-100">
    <div
      class="spinner-border text-primary"
      role="status"
      style="width: 4rem; height: 4rem"
    >
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</ng-template>
